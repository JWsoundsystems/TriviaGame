<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="assets/css/style.css">
    <title>Trivia Game</title>
</head>

<body>
    <div class="container">
        <div>
            <header>
                <h1>Trivia Game!</h1>
            </header>
            <br>
            <!-- <form method="post" id="quiz"> -->
            <div id="display">30</div>
            <br>
            <h2>Super Heros</h2>

            <div name="quiz" id="quiz">
                <!-- 
                <div>
                    <input type="radio" name="question-1-answers" id="question-1-answers-A" value="A" />
                    <label for="question-1-answers-A">A) Computer Styled Sections </label>
                </div>

                <div>
                    <input type="radio" name="question-1-answers" id="question-1-answers-B" value="B" />
                    <label for="question-1-answers-B">B) Cascading Style Sheets</label>
                </div>

                <div>
                    <input type="radio" name="question-1-answers" id="question-1-answers-C" value="C" />
                    <label for="question-1-answers-C">C) Crazy Solid Shapes</label>
                </div>

                <div>
                    <input type="radio" name="question-1-answers" id="question-1-answers-D" value="D" />
                    <label for="question-1-answers-D">D) None of the above</label>
                </div>

                </li> -->



                </form>
            </div>
            <br>
            <div name="results" id="result"></div>
            <img id="image" src="assets/images/Hulk.jpg" style="display:none;"/>

        </div>

    </div>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script type="text/javascript">
        var quizSurvey = document.getElementById('quiz');
        var resultOutput = document.getElementById('results');
        var submitButton = document.getElementById('submit');

        const output = [];
        let questionNumber = 0

        var number = 30;
        var intervalId;


        $("#quiz").click()
        $("#submit").click(function () {
            console.log('click')
        })
        const myQuestions = [{
                question: "Who is the strongest?",
                answers: {
                    a: "Superman",
                    b: "Spiderman",
                    c: "Hulk"
                },
                correctAnswer: "c",
            },
            {
                question: "What is Spidermans real name",
                answers: {
                    a: "Clark Kent",
                    b: "Dave Dennison",
                    c: "Peter Parker"
                },
                correctAnswer: "c"
            },
            {
                question: "Where is Prince from?",
                answers: {
                    a: "California",
                    b: "Kansas",
                    c: "New York",
                    d: "Minnesota"
                },
                correctAnswer: "d"
            }

        ];

        function run() {
            clearInterval(intervalId);
            intervalId = setInterval(decrement, 1000);
        }

        function decrement() {
            number--;
            $("#display").html("<div>" + number + "</div>");

            if (number === 0) {
                stop();
                $("#result").html("Times Up!");

            }
        }

        function stop() {
            clearInterval(intervalId);
        }

        run();

        function buildQuiz() {

            myQuestions.forEach(
                (currentQuestion, questionNumber) => {
                    const answers = [];
                    for (letter in currentQuestion.answers) {

                        answers.push(
                            `<label>
                            <input class="gfy" type="radio" name="question${questionNumber}" value="${letter}">${letter} : ${currentQuestion.answers[letter]}
                            </label></br>`
                        );

                    }

                    output.push(
                        `<div class="question"> ${currentQuestion.question} </div>
                        <div class="answers"> ${answers.join('')} </div>
                        <button id="button" value=${currentQuestion.correctAnswer}>submit</button>`
                    );

                }

            );

        }

        





        // display quiz right away
        let choice;
        buildQuiz();
        $("#quiz").html(output[questionNumber]);
        console.log(output);

        $(".gfy").click(function () {
            choice = $(this).val();
        })

        $("#button").click(function () {
            let correct = myQuestions[questionNumber].correctAnswer
            console.log(choice === correct)

            function decider() {
                if (choice === true)
                    console.log("You are Correct!");
                    let choiceNumber = parseInt($(choice).val()); 
                    $("#result").html("You are Correct!");
                    document.getElementById('image').style.display='block';
                    

            }

            decider();
            stop();
         


        })
    </script>

</body>

</html>